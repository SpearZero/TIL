## 이벤트스토밍

### 이벤트스토밍이란?
사람들이 모여 비즈니스 프로세스에 관해 브레인스토밍하고 신속하게 모델링하기 위한 로우테크 활동

### 누가 이벤트스토밍에 참석하나?
다양한 그룹의 사람
- 해결하고자 하는 비즈니스 도메인에 관련된 엔지니어
- 도메인 전문가
- 제품 소유자
- 테스터
- UI/UX 디자이너
- 지원 담당자 등

규모는 크지 않게 하는게 좋다. 10명 이상이 되면 모든 참가자가 과정에 기여하는 것이 어려워진다.

### 이벤트스토밍에 무엇이 필요한가?
- 모델링 공간, 포스트잇, 마커, 간식, 회의실
    - 모델링 공간은 종이로 덮인 벽 전체 또는 가능한 큰 화이트보드가 필요
    - 포스트잇은 비즈니스 도메인의 다양한 개념을 표현하는데 사용

### 이벤스스토밍 과정
일반적으로 10단계로 진행, 각 단계마다 정보와 개념을 모델에 추가하여 모델을 풍성하게 한다.

#### 1단계: 자유로운 탐색
- <b>도메인 이벤트(domain event)</b>를 브레인스토밍 하는것으로 시작
    - 이미 발생한 일을 설명하므로 과거형으로 작성
- 이벤트의 순서나 중복에 대해 걱정할 필요가 없다.
    - 발생할 수 있는 것들을 브레인스토밍

#### 2단계: 타임라인
- 생성된 도메인 이벤트를 발생하는 순서대로 정리
- 정상 시나리오 정리 후 에러, 다른 비즈니스 의사결정을 내리는 경우를 정리한다.

#### 3단계: 고충점
- 프로세스에서 주목할 만한 포인트를 식별한다.
    - 병목 구간, 자동화가 필요한 수작업 단계, 문서가 사라졌거나 도메인 지식이 없는 경우
- 나중에 쉽게 다룰 수 있도록 명확하게 표시하는 것이 중요
- 고충점은 이벤트스토밍 과정중에 언제든지 기록할 수 있음

#### 4단계: 중요 이벤트
- <b>중요 이벤트(pivotal event)</b>를 찾는다.
    - 컨텍스트나 국면이 바뀌는 것을 나타내는 중대한 비즈니스 이벤트
- 이벤트 전후로 세로선을 긋는다.
- 중요 이벤트는 향후 바운디드 컨텍스트의 후보가 된다.

#### 5단계: 커맨드
- 도메인 이벤트
    - 이미 발생한 것을 설명
- 커맨드
    - 무엇이 이벤트 또는 이벤트의 흐름을 시작하게 하는지 설명
    - 시스템의 오퍼레이션을 설명하고 명령형으로 작성

커맨드가 생성하는 이벤트 앞에 포스트잇을 붙인다. 특정 역할을 담당하는 액터가 특정 커맨드를 실행하면 액터 정보를 커맨드 앞에 기록한다.

모든 커맨드가 액터와 연관되는 것은 아니다.

#### 6단계: 정책
- 대부분의 경우 커맨드에는 관련된 액터가 없다.
    - 커맨드를 실행할 수도 있는 자동화 정책을 찾는다.
- <b>자동화 정책(automation policy)</b>
    - 이벤트가 커맨드의 실행을 시작하는 시나리오
    - 커맨드는 특정 도메인 이벤트가 발생할 때 자동으로 실행된다.

#### 7단계: 읽기 모델
- 도메인에서 액터가 커맨드를 실행하는 의사결정을 내릴 때 사용하는 시각적 데이터
    - ex) 고객(액터)가 주문 제출(커맨드)을 실행하기 위해 쇼핑카트(읽기 모델) 정보가 필요하다.

#### 8단계: 외부 시스템
- 외부 시스템 연동 정보를 보강한다.
- 탐색 중인 도메인에 포함되지 않는 모든 시스템이 외부 시스템에 해당된다.
- 외부 시스템이 커맨드를 실행할 수도 있고(입력), 반대로 외부 시스템으로 이벤트를 전달(출력)할 수 있다.

모든 커맨드는 액터, 정책에 의해 실행되거나, 외부 시스템이 호출하여 실행된다.

#### 9단계: 애그리게이트
- 모든 이벤트와 커맨드가 표현되면 참가자는 애그리게이트의 개념을 포함하여 모델을 구성할 수 있다.
- 애그리게이트는 커맨드를 받고 이벤트를 생성한다.

#### 10단계: 바운디드 컨텍스트
- 서로 연관된 애그리게이트를 찾는다.
    - 애그리게이트는 밀접하게 연관되거나 정책을 통해 연관될 수 있다.
- 애그리게이트의 그룹은 바운디드 컨텍스트 경계의 자연스러운 후보가 된다.

### 변형
- 상황에 맞게 이벤트스토밍 과정을 자유롭게 실험해도 된다. (모든 단계를 반드시 따라야 하는것은 아님)

모든 이벤트스토밍 세션이 끝나면 비즈니스 도메인의 이벤트, 커맨드, 애그리게이트, 바운디드 컨텍스트 후보를 포함한 모델을 얻게된다.

이벤트 스토밍 세션의 진짜 가치
- 다양한 이해관계자 간의 지식 공유
- 비즈니스와 멘탈 모델의 일치
- 충돌하는 모델의 발견
- 유비쿼터스 언어를 구축하는 과정

### 이벤트스토밍을 사용하는 경우
- 유비쿼터스 언어 구축하기
- 비즈니스 프로세스 모델링하기
- 새로운 비즈니스 요구사항 탐색하기
- 도메인 지식 복구하기
- 존재하는 비즈니스 프로세스의 개선 방법 탐색하기
- 새로운 팀원의 훈련

사용하지 않는 경우
- 비즈니스 프로세스가 비즈니스 로직이나 복잡성이 없고, 일련의 순차적 단계만 수행하는 등 단순하거나 명백한 경우

### 진행 팁
진행 개요를 빠르게 소개하고, 하려는 것, 탐구할 비즈니스 프로세스, 워크숍에서 사용할 모델링 요소등을 설명한다.

#### 활력도 살피기
참가자에게 과정에 참여하도록 유도하고, 협력적인 모델링 분위기를 만들어야 한다.

#### 원격 이벤트스토밍
대면 이벤트스토밍 보다는 참가자의 수가 적을 때 더 효과적이다. (대면 10, 비대면 5명 정도)

### 결론
- 이벤트스토밍은 협업을 통해 비즈니스 프로세스를 모델링하는 워크숍이다.
- 도출된 모델 외에도 지식 공유라는 중요한 이점을 얻을 수 있다.