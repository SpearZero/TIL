## MyISAM 스토리지 엔진 아키텍처

### 키 캐시
MyISAM은 키 캐시(Key cache, 키 버퍼라고도 함)라는 것을 가진다.
- InnoDB의 버퍼 풀과 비슷한 기능을 한다.
- MyISAM 키 캐시는 인덱스만을 대상으로 작동한다.
- 인덱스의 디스크 쓰기 작업에 대해서만 부분적으로 버퍼링 역할을 한다.

### 운영체제의 캐시 및 버퍼
MyISAM 테이블의 인덱스는 키 캐시를 이용해 디스크를 검색하지 않고도 충분히 빠르게 검색이 가능하다.
- 테이블의 데이터에 대해서 디스크 I/O를 해결해줄 만한 어떠한 캐시나 버퍼링 기능도 가지고 있지 않는다.
- 읽기나 쓰기 작업은 항상 운영체제의 디스크 읽기 또는 쓰기 작업으로 요청할 수 밖에 없다.
    - 운영체제의 캐시 기능은 InnoDB처럼 데이터의 특성을 알고 전문적으로 캐시나 버퍼링을 하지는 못한다.
- 운영체제의 캐시 공간은 남는 메모리를 사용하는 것이 기본 원칙
    - 운영체제가 캐시 공간을 마련할 수 있게 해주는 것이 좋다.(키 캐시를 최대 물리 메모리의 40% 이상을 넘지 않도록 설정하는 것을 권장)

### 데이터 파일과 프라이머리 키(인덱스) 구조
- MyISAM 테이블의 레코드는 프라이머리 키 값과 무관하게 INSERT되는 순서대로 데이터 파일에 저장된다.
- MyISAM 테이블에 저장되는 레코드는 모두 ROWID라는 물리적인 주솟값을 가진다.
    - 프라이머리 키, 세컨더리 인덱스 모두 데이터 파일에 저장된 레코드의 ROWID 값을 포인터로 가진다.
    - ROwID는 고정, 가변길이 두 가지 방법으로 저장될 수 있다.