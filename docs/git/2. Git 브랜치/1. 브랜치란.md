> https://git-scm.com/book/ko/v2/Git-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%B8%8C%EB%9E%9C%EC%B9%98%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80

## 브랜치란 무엇인가
코드를 통째로 복사하고 나서 원래 코드와는 독립적으로 개발을 진행할 수 있는데, 이렇게 독립적으로 개발하는 것이<br> 브랜치이다.

### 브랜치란 무엇인가
커밋하면 Git은 현 Staging Area에 있는 데이터의 스냅샷에 대한 포인터, 저자나 커밋 메시지와 같은 메타데이터, 이전<br> 커밋에 대한 포인터 등을 포함하는 커밋 개체(커밋 Object)를 저장한다. 
<pre>
    <code>
        $ git add README test.rb LICENSE
        $ git commit -m 'The initial commit of my project'
    </code>
</pre>
위 예제에서 파일들을 Stage 하면 Git 저장소에 파일을 저장하고(Blob이라 부름) Staging Area에 해당 파일의 체크섬을<br> 저장한다. git commit으로 커밋하면 다음과 같은 작업이 진행된다.
- 먼저 루트 디렉토리와 하위 디렉토리의 트리 개체를 체크섬과 함께 저장소에 저장한다.
- 그 다음에 커밋 개체를 만들고 메타데이터와 루트 디렉토리 트리 개체를 가리키는 포인터 정보를 커밋 개체에 <br> 넣어 저장한다.

이 작업을 마치고 나면 Git 저장소에는 다섯 개의 개체가 생성된다.<br>
![commit-and-tree](./pic/commit-and-tree.png)<br>
다시 파일을 수정하고 커밋하면 이전 커밋이 무엇인지도 저장한다.<br>
Git의 브랜치는 커밋 사이를 가볍게 이동할  수 있는 어떤 포인터 같은 것이다. 기본적으로 Git은 master 브랜치를 만든다.<br> 처음 커밋하면 master 브랜치가 생성된 커밋을 가리킨다. 이후 커밋을 만들면 master 브랜치는 자동으로 가장 마지막 <br> 커밋을 가리킨다.

### 새 브랜치 생성하기
> $ git branch testing

이 명령어로 브랜치를 생성한다. 새로 만든 브랜치도 마지막 커밋을 가리킨다.<br>
![two-branches](./pic/two-branches.png)<br>
Git은 'HEAD'라는 특수한 포인터가 존재한다. 이 포인터는 현재 작업중인 로컬 브랜치를 가리킨다.<br>
![head-to-master](./pic/head-to-master.png) <br>
git log 명령에 --decorate 옵션을 사용하면 브랜치가 어떤 커밋을 가리키는지 확인할 수 있다.
<pre>
    <code>
        $ git log --oneline --decorate
        b1d7f4c (HEAD -> master, tag: v1.0w, tag: v1.0, origin/master, origin/HEAD, 
        testing) added new contents
        bcb7a9f "first commit!"
    </code>
</pre>

### 브랜치 이동하기
checkout 명령어로 브랜치를 이동할 수 있다.
> $ git checkout testing

![head-to-testing](./pic/head-to-testing.png) <br>
이제 testing에서 새로 커밋을 하면 다음과 같이 된다. 
<pre>
    $ vi test.txt
    $ git add test.txt
    $ git commit -m 'made a change'
</pre>
이제 다음과 같은 명령어 실행
> git checkout master

그 후 master에서도 새 파일을 만들고 커밋
<pre>
    <code>
        $ vi test.txt
        $ git add test.txt
        $ git commit -m 'made other changes'
    </code>
</pre>
![advance-master](./pic/advance-master.png)<br>
두 작업은 내용은 서로 독립적으로 각 브랜치에 존재한다. 커밋 사이를 자유롭게 돌아다니다가 때가 되면 두 브랜치를 <br> Merge 한다. <br>

git log 명령어로 현재 가리키고 있는 히스토리가 무엇이고 어떻게 갈라져 나왔는지 보여준다.
<pre>
    <code>
        $ git log --oneline  --decorate --graph --all
        * 1914915 (HEAD -> master) made other changes
        | * 8dcdea0 (testing) made a change
        | * 69d17a6 made a change
        |/
    </code>
</pre>
Git의 브랜치는 어떤 한 커밋을 가리키는 40글자의 SHA-1 체크섬에 불과하기 때문에 만들거나 지우기가 쉽다. <br> 다른 버전 관리 도구는 브랜치를 만들기 위해 파일을 통째로 복사해야 하는데 Git은 그렇지 않다. 그래서 속도가 빠르다<br> 게다가 커밋을 할 때 이전 커밋의 정보를 저장하기 때문에 Merge할 때 어디서부터 합쳐야 하는지 안다.