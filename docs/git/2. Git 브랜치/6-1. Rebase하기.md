> https://git-scm.com/book/ko/v2/Git-%EB%B8%8C%EB%9E%9C%EC%B9%98-Rebase-%ED%95%98%EA%B8%B0#_merge_rebase_work

## Rebase하기
Git에서 한 브랜치에서 다른 브랜치로 합치는 방법은 Merge와 Rebase가 있다.

### Rebase의 기초
![basic-rebase-1](./pic/basic-rebase-1.png)<br>
이 두 브랜치를 합치는 방법중 하나인 Merge는 공통 조상인 C2를 이용해 3-way-Merge를 하는 것이다.<br>
다른 방식으로는 C3 에서 변경된 사항을 Patch로 만들고 이를 C4에 다시 적용하는 방식이 있다. 이런 방식을 Rebase라 한다.<br>
> $ git checkout expreiment<br>
$ git rebase master

위의 명령어는 두 브랜치가 나뉘기전인 공통 커밋으로 이동하고 나서 그 커밋부터 지금 Checkout한 브랜치가 가리키는 커밋<br>까지 diff를 차례로 만들어 어딘가에 임시로 저장해놓는다. Rebase 할 브랜치(experiment)가 합칠 브랜치(master)가 가리키는<br> 커밋을 가리키게 하고 아까 저장해놓았던 변경사항을 차례로 적용한다.<br>
![basic-rebase-3](./pic/basic-rebase-3.png)<br>
그리고 나서 master 브랜치를 Fast-forward 시킨다.
> $ git checkout master<br>
$ git merge experiment

![basic-rebase-4](./pic/basic-rebase-4.png)<br>

C4'의 내용은 Merge를 했을때와 같을 것이다. Rebase는 깨끗한 히스토리를 만들며, 모든 일이 차례대로 진행된 것처럼<br> 보이게 만든다. Rebase는 보통 리모트 브랜치에 커밋을 깔끔하게 적용 시키고 싶을 때 사용한다.<br>
Rebase와 Merge는 최종 결과물은 같고 히스토리만 다르다. Rebase는 브랜치의 변경사항을 순서대로 다른 브랜치에<br> 적용하면서 합치고 Merge의 경우는 두 브랜치의 최종결과만을 가지고 합친다.

### Rebase의 활용
![interesting-rebase-1](./pic/interesting-rebase-1.png)<br>
위 상황에서 client 브랜치만 master로 합치려는 상황을 생각해보자, 여기서 server와 관련없는 client 커밋은 C8, C9이다.<br> 이 두 커밋을 master 브랜치에 적용하기 위해 --onto 옵션을 사용한다.<br>
> $ git rebase --onto master server client

![interesting-rebase-2](./pic/interesting-rebase-2.png)<br>
이제 master 브랜치로 돌아가 Fast-forward 할 수 있다.
> $ git checkout master <br>
$ git merge client

![interesting-rebase-3](./pic/interesting-rebase-3.png)<br>

server 브랜치의 작업이 끝나면 git rebase <basebranch<z>> <topicbranch<z>> 라는 명령으로 토픽브랜치(server)를 Checkout하고<br> 베이스브랜치(master)에 Rebase한다.

> $ git rebase master server

그리고 나서 master 브랜치를 Fast-forward 시킨다.
> $ git checkout master <br>
$ git merge server

모든 것이 master에 통힙되었기 때문에 필요없다면 client나 server 브랜치는 삭제해도 된다.

> $ git branch -d client <br>
$ git branch -d server

![interesting-rebase-5](./pic/interesting-rebase-5.png)<br>






