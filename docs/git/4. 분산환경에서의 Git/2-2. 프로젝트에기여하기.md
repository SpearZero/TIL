> https://git-scm.com/book/ko/v2/%EB%B6%84%EC%82%B0-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-Git-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90-%EA%B8%B0%EC%97%AC%ED%95%98%EA%B8%B0

## 프로젝트에 기여하기
### 공개 프로젝트 Fork
공개 팀을 운영할 때는 모든 개발자가 쓰기 권한을 가지지 않는다. 프로젝트 관리자가 몇 가지 일을 더 해야 한다. 여기서는<br> Fork를 지원하는 Git 호스팅에서 Fork를 통해 프로젝트에 기여하는 법을 살펴본다.<br>

처음 할 일은 메인 저장소를 Clone 하는 것이다. 그리고 토픽 브랜치를 만들고 일정 부분을 기여한다.
<pre>
    <code>
        $ git clone <<z>url<z>>
        $ cd project
        $ git checkout -b featureA
        ... work ...
        $ git commit
        ... work ...
        $ git commit
    </code>
</pre>
그리고 프로젝트의 웹 사이트에 가서 "Fork" 버튼을 누르면 쓰기 권한이 있는 저장소가 만들어진다. 그러면 로컬에서<br> 수정한 커밋을 Push 할 수 있다.
> $ git remote add myfork <url<z>>  // Fork한 저장소 주소

그 후 등록한 리모트 저장소에 Push한다.
> $ git push -u myfork featureA

Fork한 저장소에서 Push하고 나면 프로젝트 관리자에게 이 내용을 알려야한다. 이를 Pull Request라고 한다.<br>
git request-pull 명령은 아규먼트를 두 개 입력받는다. 첫 번째 아규먼트는 작업한 토픽 브랜치의 Base 브랜치이다. 두 번째는<br> 토픽 브랜치가 위치한 저장소 URL이다.
<pre>
    <code>
        $ git request-pull origin/master myfork
        The following changes since commit 1edee6b1d61823a2de3b09c160d7080b8d1b3a40:
        Jessica Smith (1):
                added a new function

        are available in the git repository at:

        git://githost/simplegit.git featureA

        Jessica Smith (2):
            add limit to log function
            change log output to 30 from 25

        lib/simplegit.rb |   10 +++++++++-
        1 files changed, 9 insertions(+), 1 deletions(-)
    </code>
</pre>
이 내용에는 토픽 브랜치가 어느 시점에서 갈라져 나온 것인지, 어떤 커밋이 있는지, Pull 하려면 어떤 저장소에 접근해야<br> 하는지에 대한 내용이 들어있다.<br>
다른 주제의 일을 하려 할 때에는 앞서 Push한 토픽 브랜치에서 시작하지 말고 주 저장소의 master 브랜치로부터 만들어야<br> 한다.
<pre>
    <code>
        $ git checkout -b featureB origin/master
        ... work ...
        $ git commit
        $ git push myfork featureB
        $ git request-pull origin/master myfork
        ... email generated request pull to maintainer ...
        $ git fetch origin
    </code>
</pre>
![public-small-1](./pic/public-small-1.png)<br>
관리자가 사람들의 수정사항을 Merge하고 나서 featureA의 작업을 Merge하려고 할 때 충돌이 일어날 수 있다. 그러면<br> featureA 작업자가 자신의 브랜치를 origin/master에 Rebase해서 충돌을 해결하고 다시 Pull Request를 보낸다.
<pre>
    <code>
        $ git checkout featureA
        $ git rebase origin/master
        $ git push -f myfork featureA
    </code>
</pre>
![public-small-2](./pic/public-small-2.png)<br>
브랜치를 Rebase 했기 때문에 -f 옵션으로 기존 서버에 있던 featureA 브랜치의 내용을 덮어써야 한다. 아니면 새로운 브랜치를 <br> 서버에 Push해도 된다.<br>
관리자가 featureB의 내용을 약간 바꿔달라고 요청한다면. featureB 담당자는 하는 김에 featureB 브랜치를 최신 master 브랜치<br> 기반으로 옮긴다. 
<pre>
    <code>
        $ git checkout -b featureBv2 origin/master
        $ git merge --squash featureB
        ... change implementation ...
        $ git commit
        $ git push myfork featureBv2
    </code>
</pre>
--squash 옵션은 현재 브랜치에 Merge할 때 해당 브랜치의 커밋을 모두 커밋 하나로 합쳐서 Merge한다. 이 때 Merge 커밋은 <br> 만들지 않는다.<br>
수정을 마치면 관리자에게 featureBv2 브랜치를 확인해보라고 메시지를 보낸다.
![public-small-3](./pic/public-small-3.png)<br>

### 대규모 공개 프로젝트와 이메일을 통한 관리
오래된 대규모 프로젝트는 대부분 Patch를 통해서 메일링 리스트를 받아들인다.<br>
이 방법에서는 Patch를 Fork하여 Push하는 방식이 아니라 커밋 내용을 만들어 개발자 메일링 리스트에 제출한다.
<pre>
    <code>
        $ git checkout -b topicA
        ... work ...
        $ git commit
        ... work ...
        $ git commit
    </code>
</pre>
git format-patch 명령으로 메일링리스트에 보낼 mbox 형태의 파일을 생성한다. 커밋 메시지의 첫 번째 라인이 메일의 제목이<br> 되고, Merege 메시지 내용과 Patch 자체가 메일 메시지의 본문이 된다.
<pre>
    <code>
        $ git format-patch -M origin/master
        0001-add-limit-to-log-function.patch
        0002-changed-log-output-to-30-from-25.patch
    </code>
</pre>
-M 옵션은 이름이 변경된 파일이 있는지 살펴보라는 옵션이다.
<pre>
    <code>
        $ cat 0001-add-limit-to-log-function.patch
        From 330090432754092d704da8e76ca5c05c198e71a8 Mon Sep 17 00:00:00 2001
        From: Jessica Smith <jessica@example.com>
        Date: Sun, 6 Apr 2008 10:17:23 -0700
        Subject: [PATCH 1/2] add limit to log function

        Limit log functionality to the first 20

        ---
        lib/simplegit.rb |    2 +-
        1 files changed, 1 insertions(+), 1 deletions(-)

        diff --git a/lib/simplegit.rb b/lib/simplegit.rb
        index 76f47bc..f9815f1 100644
        --- a/lib/simplegit.rb
        +++ b/lib/simplegit.rb
        @@ -14,7 +14,7 @@ class SimpleGit
        end

        def log(treeish = 'master')
        -    command("git log #{treeish}")
        +    command("git log -n 20 #{treeish}")
        end

        def ls_tree(treeish = 'master')
        --
        2.1.0
    </code>
</pre>
--- 과 diff --git 사이에 내용을 추가하면 다른 개발자는 읽을 수 있지만 Patch에 추가되지 않는다. 특정 메일 프로그램을 <br> 사용하거나 이메일을 보내는 명령어로 메일링리스트에 보낼 수 있다. 원본이 그대로 들어가지 않는 메일 프로그램도 존재한다.<br> Git은 Patch 메일을 그대로 보낼 수 있는 도구가 있다. IMAP 프로토콜을 사용한다.
> https://github.com/git/git/blob/master/Documentation/SubmittingPatches

위 링크에 아래부분에 다양한 메일 프로그램으로 Patch를 보내는 방법 소개.<br>
