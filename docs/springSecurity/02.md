## Spring Security

> https://www.youtube.com/watch?v=EPd-u8ibXBY&list=PLVApX3evDwJ1d0lKKHssPQvzv2Ao3e__Q

위의 유튜브 강의를 정리

### Form Based Authentication

- 폼 인증 방식, 인증에 사용할 정보를 입력하는 HTML 페이지를 제공하고 웹 어플리케이션에<br> HTML 폼에 입력한 정보를 전달해 사용자를 인증하는 방식
- 로그인 절차
    - 사용자가 특정 페이지에 접속 시도
    - 사용자가 인증되지 않았다면 서버는 사용자 정보를 전달하는 로그인 페이지로<br> 리다이렉트 시킨다.
    - 사용자가 정보를 입력하고 데이터를 서버에 전달
    - 인증이 되었다면 서버는 세션 ID를 만들어서 인증 쿠키를 전달
    - 사용자는 인증 쿠키를 전달받는다.
- 로그아웃 절차
    - 사용자가 로그아웃을 한다.
    - 서버는 세션을 무효화시킨다.
- 폼 인증 방식을 사용할때 알아야 할 것
    - 웹 서버가 폼 데이터를 처리하고 실제로 인증해야할 책임이 있다.
    - 독립적인 웹 서버에 적합하다.
    - 다양한 앱이나 고객에 대응하는 공개된 REST 방식에는 적합하지 않다.  
    - 입력된 정보는 웹 서버에 그대로 전달되기 때문에 SSL을 사용해서 정보를 안전하게<br> 전달해야 한다.

### HTTP Basic Authentication
- 사용자를 인증하기 위해 브라우저가 유저이름과 패스워드를 요청하는 방식
- 절차
    - 사용자가 특정 페이지 접속 시도
    - 서버는 다음과 같은 헤더정보와 함께 브라우저에서 사용자이름과 패스워드를<br> 입력하도록 함
    
    > 401 Unauthorized<br>
    WWW-Authenticate: Basic realm="..."

    - 사용자가 사용자이름과 패스워드를 입력하고 확인 버튼을 누르면 다음과 같은 헤더가<br> 서버로 전송된다.

    > GET /home<br>
    Authrization: Basic YWxpY2U6cGFzc3dvcmQ=

    - 서버는 응답 코드로 200 OK를 사용자에게 전달

- 위의 방식에서 사용자 이름과 패스워드는 유저이름:패스워드로 결합된 후 Base64로 인코딩<br> 돼서 전달된다.
- HTTP Basic 인증을 사용할 때 알아야 할 것
    - 간단하다. 쿠키, 세션 인증, 로그인 페이지를 필요로 하지 않는다.
    - 중요 정보가 암호화되지 않고 그저 base64로 인코딩 되어서 전달된다.
    - HTTP Basic 인증 방식은 기밀 유지를 위해 보통 HTTPS와 결합되어 사용된다.
    - HTTP는 사용자가 로그아웃하기 위한 메소드를 웹 서버에 제공하지 않는다.
    - 인증방법이 프로그램이 아닌 웹 브라우저에 의해 제어된다.
- HTTP Basic 인증은 간단한 방식 중 하나이다. 민감하지 않은 자원을 최소한으로 보호하기<br> 위해 사용한다. 만약 중요한 정보가 있다면 더 보안적인 방식을 사용해야 한다.